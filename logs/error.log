{"clientVersion":"5.22.0","level":"error","message":"Error uploading document: \nInvalid `prisma.document.create()` invocation in\n/Users/miczagami/Downloads/conveyai-app/v5.0/backend/src/api/documents/document.controller.js:66:44\n\n  63 const fileType = getFileType(fileExtension);\n  64 \n  65 // Create document record\n→ 66 const document = await prisma.document.create({\n       data: {\n         tenantId: \"4e2175c1-ec03-4909-9a69-39d5a002def7\",\n         matterId: \"746c3a1d-9a43-4f73-94b8-0bd0adde939d\",\n         parent_folder_id: undefined,\n         uploaded_by: \"04e96c27-37b6-41c9-970b-2e0dc3259d87\",\n         name: \"Matter_Detail.pdf\",\n         description: undefined,\n         category: \"FINANCIAL\",\n         file_name: undefined,\n         file_type: \"PDF\",\n         file_size: 135912,\n         file_extension: \".pdf\",\n         uploaded_at: new Date(\"2025-05-09T00:07:04.181Z\"),\n     +   file_path: String\n       }\n     })\n\nArgument `file_path` is missing.","name":"PrismaClientValidationError","service":"conveyai-api","stack":"PrismaClientValidationError: \nInvalid `prisma.document.create()` invocation in\n/Users/miczagami/Downloads/conveyai-app/v5.0/backend/src/api/documents/document.controller.js:66:44\n\n  63 const fileType = getFileType(fileExtension);\n  64 \n  65 // Create document record\n→ 66 const document = await prisma.document.create({\n       data: {\n         tenantId: \"4e2175c1-ec03-4909-9a69-39d5a002def7\",\n         matterId: \"746c3a1d-9a43-4f73-94b8-0bd0adde939d\",\n         parent_folder_id: undefined,\n         uploaded_by: \"04e96c27-37b6-41c9-970b-2e0dc3259d87\",\n         name: \"Matter_Detail.pdf\",\n         description: undefined,\n         category: \"FINANCIAL\",\n         file_name: undefined,\n         file_type: \"PDF\",\n         file_size: 135912,\n         file_extension: \".pdf\",\n         uploaded_at: new Date(\"2025-05-09T00:07:04.181Z\"),\n     +   file_path: String\n       }\n     })\n\nArgument `file_path` is missing.\n    at wn (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.uploadDocument (/Users/miczagami/Downloads/conveyai-app/v5.0/backend/src/api/documents/document.controller.js:66:22)","timestamp":"2025-05-09 10:07:04"}
{"level":"error","message":"Error creating contract: Converting circular structure to JSON\n    --> starting at object with constructor 'ClientRequest'\n    |     property 'socket' -> object with constructor 'TLSSocket'\n    --- property '_httpMessage' closes the circle","service":"conveyai-api","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'ClientRequest'\n    |     property 'socket' -> object with constructor 'TLSSocket'\n    --- property '_httpMessage' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/Users/miczagami/Downloads/conveyai-app/v5.0/backend/src/utils/logger.js:23:87)\n    at Printf.transform (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/logform/printf.js:11:26)\n    at Format.transform (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/logform/combine.js:20:24)\n    at Console._write (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/modern.js:91:33)\n    at doWrite (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Writable.write (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:525:35)","timestamp":"2025-05-09 11:47:19"}
{"level":"error","message":"Error creating contract: Converting circular structure to JSON\n    --> starting at object with constructor 'ClientRequest'\n    |     property 'res' -> object with constructor 'IncomingMessage'\n    --- property 'req' closes the circle","service":"conveyai-api","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'ClientRequest'\n    |     property 'res' -> object with constructor 'IncomingMessage'\n    --- property 'req' closes the circle\n    at JSON.stringify (<anonymous>)\n    at Printf.template (/Users/miczagami/Downloads/conveyai-app/v5.0/backend/src/utils/logger.js:23:87)\n    at Printf.transform (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/logform/printf.js:11:26)\n    at Format.transform (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/logform/combine.js:20:24)\n    at Console._write (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/modern.js:91:33)\n    at doWrite (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Writable.write (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/miczagami/Downloads/conveyai-app/v5.0/node_modules/winston/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:531:35)","timestamp":"2025-05-09 13:40:55"}
